{"ast":null,"code":"import _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport { useRef, useState, useLayoutEffect, createElement } from 'react';\nimport { Box3, Vector3, Sphere } from 'three';\nimport { useThree } from '@react-three/fiber';\nimport { Environment } from './Environment.js';\nimport { ContactShadows } from './ContactShadows.js';\nconst presets = {\n  rembrandt: {\n    main: [1, 2, 1],\n    fill: [-2, -0.5, -2]\n  },\n  portrait: {\n    main: [-1, 2, 0.5],\n    fill: [-1, 0.5, -1.5]\n  },\n  upfront: {\n    main: [0, 2, 1],\n    fill: [-1, 0.5, -1.5]\n  },\n  soft: {\n    main: [-2, 4, 4],\n    fill: [-1, 0.5, -1.5]\n  }\n};\nfunction Stage(_ref) {\n  let {\n      children,\n      controls,\n      shadows = true,\n      adjustCamera = true,\n      environment = 'city',\n      contactShadow = true,\n      intensity = 1,\n      preset = 'rembrandt'\n    } = _ref,\n    props = _objectWithoutPropertiesLoose(_ref, [\"children\", \"controls\", \"shadows\", \"adjustCamera\", \"environment\", \"contactShadow\", \"intensity\", \"preset\"]);\n  const config = presets[preset];\n  const camera = useThree(state => state.camera);\n  const outer = useRef(null);\n  const inner = useRef(null);\n  const [{\n    radius,\n    width,\n    height\n  }, set] = useState({\n    radius: 0,\n    width: 0,\n    height: 0\n  });\n  useLayoutEffect(() => {\n    outer.current.position.set(0, 0, 0);\n    outer.current.updateWorldMatrix(true, true);\n    const box3 = new Box3().setFromObject(inner.current);\n    const center = new Vector3();\n    const sphere = new Sphere();\n    const height = box3.max.y - box3.min.y;\n    const width = box3.max.x - box3.min.x;\n    box3.getCenter(center);\n    box3.getBoundingSphere(sphere);\n    set({\n      radius: sphere.radius,\n      width,\n      height\n    });\n    outer.current.position.set(-center.x, -center.y + height / 2, -center.z);\n  }, [children]);\n  useLayoutEffect(() => {\n    if (adjustCamera) {\n      const y = radius / (height > width ? 1.5 : 2.5);\n      camera.position.set(0, radius * 0.5, radius * 2.5);\n      camera.near = 0.1;\n      camera.far = Math.max(5000, radius * 4);\n      camera.lookAt(0, y, 0);\n      if (controls && controls.current) {\n        controls.current.target.set(0, y, 0);\n        controls.current.update();\n      }\n    }\n  }, [radius, height, width, adjustCamera]);\n  return /*#__PURE__*/createElement(\"group\", props, /*#__PURE__*/createElement(\"group\", {\n    ref: outer\n  }, /*#__PURE__*/createElement(\"group\", {\n    ref: inner\n  }, children)), contactShadow && /*#__PURE__*/createElement(ContactShadows, {\n    \"rotation-x\": Math.PI / 2,\n    opacity: 0.5,\n    width: radius * 2,\n    height: radius * 2,\n    blur: 2,\n    far: radius / 2\n  }), environment && /*#__PURE__*/createElement(Environment, {\n    preset: environment\n  }), /*#__PURE__*/createElement(\"ambientLight\", {\n    intensity: intensity / 3\n  }), /*#__PURE__*/createElement(\"spotLight\", {\n    position: [config.main[0] * radius, config.main[1] * radius, config.main[2] * radius],\n    intensity: intensity * 2,\n    castShadow: shadows\n  }), /*#__PURE__*/createElement(\"pointLight\", {\n    position: [config.fill[0] * radius, config.fill[1] * radius, config.fill[2] * radius],\n    intensity: intensity\n  }));\n}\nexport { Stage };","map":{"version":3,"names":["_objectWithoutPropertiesLoose","useRef","useState","useLayoutEffect","createElement","Box3","Vector3","Sphere","useThree","Environment","ContactShadows","presets","rembrandt","main","fill","portrait","upfront","soft","Stage","_ref","children","controls","shadows","adjustCamera","environment","contactShadow","intensity","preset","props","config","camera","state","outer","inner","radius","width","height","set","current","position","updateWorldMatrix","box3","setFromObject","center","sphere","max","y","min","x","getCenter","getBoundingSphere","z","near","far","Math","lookAt","target","update","ref","PI","opacity","blur","castShadow"],"sources":["/Users/mitchellkimbell/Desktop/frontend-in-space/node_modules/@react-three/drei/core/Stage.js"],"sourcesContent":["import _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport { useRef, useState, useLayoutEffect, createElement } from 'react';\nimport { Box3, Vector3, Sphere } from 'three';\nimport { useThree } from '@react-three/fiber';\nimport { Environment } from './Environment.js';\nimport { ContactShadows } from './ContactShadows.js';\n\nconst presets = {\n  rembrandt: {\n    main: [1, 2, 1],\n    fill: [-2, -0.5, -2]\n  },\n  portrait: {\n    main: [-1, 2, 0.5],\n    fill: [-1, 0.5, -1.5]\n  },\n  upfront: {\n    main: [0, 2, 1],\n    fill: [-1, 0.5, -1.5]\n  },\n  soft: {\n    main: [-2, 4, 4],\n    fill: [-1, 0.5, -1.5]\n  }\n};\nfunction Stage(_ref) {\n  let {\n    children,\n    controls,\n    shadows = true,\n    adjustCamera = true,\n    environment = 'city',\n    contactShadow = true,\n    intensity = 1,\n    preset = 'rembrandt'\n  } = _ref,\n      props = _objectWithoutPropertiesLoose(_ref, [\"children\", \"controls\", \"shadows\", \"adjustCamera\", \"environment\", \"contactShadow\", \"intensity\", \"preset\"]);\n\n  const config = presets[preset];\n  const camera = useThree(state => state.camera);\n  const outer = useRef(null);\n  const inner = useRef(null);\n  const [{\n    radius,\n    width,\n    height\n  }, set] = useState({\n    radius: 0,\n    width: 0,\n    height: 0\n  });\n  useLayoutEffect(() => {\n    outer.current.position.set(0, 0, 0);\n    outer.current.updateWorldMatrix(true, true);\n    const box3 = new Box3().setFromObject(inner.current);\n    const center = new Vector3();\n    const sphere = new Sphere();\n    const height = box3.max.y - box3.min.y;\n    const width = box3.max.x - box3.min.x;\n    box3.getCenter(center);\n    box3.getBoundingSphere(sphere);\n    set({\n      radius: sphere.radius,\n      width,\n      height\n    });\n    outer.current.position.set(-center.x, -center.y + height / 2, -center.z);\n  }, [children]);\n  useLayoutEffect(() => {\n    if (adjustCamera) {\n      const y = radius / (height > width ? 1.5 : 2.5);\n      camera.position.set(0, radius * 0.5, radius * 2.5);\n      camera.near = 0.1;\n      camera.far = Math.max(5000, radius * 4);\n      camera.lookAt(0, y, 0);\n\n      if (controls && controls.current) {\n        controls.current.target.set(0, y, 0);\n        controls.current.update();\n      }\n    }\n  }, [radius, height, width, adjustCamera]);\n  return /*#__PURE__*/createElement(\"group\", props, /*#__PURE__*/createElement(\"group\", {\n    ref: outer\n  }, /*#__PURE__*/createElement(\"group\", {\n    ref: inner\n  }, children)), contactShadow && /*#__PURE__*/createElement(ContactShadows, {\n    \"rotation-x\": Math.PI / 2,\n    opacity: 0.5,\n    width: radius * 2,\n    height: radius * 2,\n    blur: 2,\n    far: radius / 2\n  }), environment && /*#__PURE__*/createElement(Environment, {\n    preset: environment\n  }), /*#__PURE__*/createElement(\"ambientLight\", {\n    intensity: intensity / 3\n  }), /*#__PURE__*/createElement(\"spotLight\", {\n    position: [config.main[0] * radius, config.main[1] * radius, config.main[2] * radius],\n    intensity: intensity * 2,\n    castShadow: shadows\n  }), /*#__PURE__*/createElement(\"pointLight\", {\n    position: [config.fill[0] * radius, config.fill[1] * radius, config.fill[2] * radius],\n    intensity: intensity\n  }));\n}\n\nexport { Stage };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}